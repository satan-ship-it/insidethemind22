<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Individual Differences & Psychological Attributes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Custom Font Import */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 5rem; /* Offset for sticky header */
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF7; /* Warm off-white */
            color: #4B5563; /* Gray 600 */
        }

        /* Chart Container Styling */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #D1D5DB;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #9CA3AF;
        }

        /* Nav Link Styles */
        .nav-link {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
            color: #9CA3AF;
            font-weight: 500;
        }
        
        .nav-link.active {
            border-bottom-color: #D97706; /* Amber 600 */
            color: #1F2937; /* Gray 900 */
        }

        .nav-link:hover:not(.active) {
            color: #4B5563;
        }

        /* Card Hover Effects */
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .section-divider {
            border-bottom: 1px solid #E5E7EB;
            margin: 4rem 0;
        }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-gray-800 tracking-tight">Psycho<span class="text-amber-600">Metric</span></span>
                </div>
                <!-- Navigation -->
                <nav class="hidden md:flex space-x-8">
                    <a href="#overview" class="nav-link py-4 px-1 text-sm">Overview & Domains</a>
                    <a href="#theories" class="nav-link py-4 px-1 text-sm">Theories & IQ</a>
                    <a href="#assessment" class="nav-link py-4 px-1 text-sm">Assessment Methods</a>
                    <a href="#context" class="nav-link py-4 px-1 text-sm">Culture & EI</a>
                </nav>
            </div>
        </div>
        <!-- Mobile Nav Placeholder -->
        <div class="md:hidden flex justify-around bg-gray-50 border-t border-gray-200">
             <a href="#overview" class="py-3 text-xs font-medium text-gray-600">Overview</a>
             <a href="#theories" class="py-3 text-xs font-medium text-gray-600">Theories</a>
             <a href="#assessment" class="py-3 text-xs font-medium text-gray-600">Tests</a>
             <a href="#context" class="py-3 text-xs font-medium text-gray-600">Context</a>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">

        <!-- SECTION: OVERVIEW & DOMAINS -->
        <section id="overview" class="py-8 scroll-mt-24">
            <!-- Hero Section -->
            <div class="text-center max-w-3xl mx-auto mb-16">
                <h1 class="text-4xl font-bold text-gray-900 mb-4">Individual Differences & Situationism</h1>
                <p class="text-lg text-gray-600 leading-relaxed">
                    Human behavior is a dynamic interplay between internal traits and external circumstances. 
                    This platform explores the scientific study of what makes us distinctâ€”from intelligence to personalityâ€”and how we measure these attributes.
                </p>
                <div class="mt-6 flex justify-center gap-4">
                    <div class="bg-amber-50 border border-amber-200 rounded-lg px-4 py-2 text-sm text-amber-800">
                        <span class="font-bold">Individual Differences:</span> Distinctiveness in characteristics.
                    </div>
                    <div class="bg-blue-50 border border-blue-200 rounded-lg px-4 py-2 text-sm text-blue-800">
                        <span class="font-bold">Situationism:</span> External factors driving behavior.
                    </div>
                </div>
            </div>

            <!-- The 5 Domains Section -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
                <div>
                    <h2 class="text-2xl font-bold text-gray-900 mb-4">Domains of Psychological Attributes</h2>
                    <p class="text-gray-600 mb-6">
                        Psychologists categorize attributes into five key multi-dimensional domains. Interact with the list to learn more, or view the comparative chart.
                    </p>
                    <div class="space-y-3" id="domain-list">
                        <!-- Populated by JS -->
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 sticky top-24">
                    <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wide text-center mb-4">Attribute Comparison Profile</h3>
                    <div class="chart-container">
                        <canvas id="domainsChart"></canvas>
                    </div>
                    <p class="text-center text-xs text-gray-400 mt-2">Comparison of hypothetical attribute levels.</p>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- SECTION: THEORIES & IQ -->
        <section id="theories" class="py-8 scroll-mt-24">
            <!-- Intro -->
            <div class="mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Understanding Intelligence</h2>
                <p class="text-gray-600 max-w-4xl">
                    Intelligence is the global capacity to understand the world, think rationally, and use resources effectively. Theories are broadly categorized into <strong>Psychometric</strong> (structure/abilities) and <strong>Information-Processing</strong> (processes/how we think).
                </p>
            </div>

            <!-- Theory Explorer -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-16">
                <!-- Sidebar List -->
                <div class="lg:col-span-1 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden h-fit">
                    <div class="p-4 bg-gray-50 border-b border-gray-200">
                        <h3 class="font-semibold text-gray-700">Select a Theory</h3>
                    </div>
                    <div class="max-h-[500px] overflow-y-auto" id="theory-list">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- Detail View -->
                <div class="lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-200 p-8 flex flex-col justify-center min-h-[400px]" id="theory-detail">
                    <div class="text-center text-gray-500">
                        <p class="text-lg">Select a theory from the left to explore its structure.</p>
                    </div>
                </div>
            </div>

            <!-- IQ Distribution Section -->
            <div class="bg-gray-50 rounded-2xl p-8 border border-gray-200">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                    <div>
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">Individual Differences in Intelligence (IQ)</h3>
                        <p class="text-sm text-gray-600 mb-4">IQ = (Mental Age / Chronological Age) Ã— 100</p>
                        <p class="text-gray-700 mb-4">
                            Intelligence follows a normal distribution (bell curve). The mean is 100. Genetics (nature) set the range, while environment (nurture) determines where an individual falls within that range.
                        </p>
                        <ul class="space-y-2 text-sm text-gray-600">
                            <li class="flex items-center"><span class="w-3 h-3 rounded-full bg-red-400 mr-2"></span>Deficient (&lt;70): Significant deficits in adaptive behavior.</li>
                            <li class="flex items-center"><span class="w-3 h-3 rounded-full bg-blue-400 mr-2"></span>Average (90-109): 50% of the population.</li>
                            <li class="flex items-center"><span class="w-3 h-3 rounded-full bg-green-400 mr-2"></span>Gifted (&gt;130): High speed, advanced logic, intrinsic motivation.</li>
                        </ul>
                    </div>
                    <div class="bg-white p-4 rounded-xl shadow-sm">
                        <div class="chart-container">
                            <canvas id="iqChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- SECTION: ASSESSMENT -->
        <section id="assessment" class="py-8 scroll-mt-24">
            <!-- Intro -->
            <div class="text-center max-w-3xl mx-auto mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Psychological Assessment</h2>
                <p class="text-gray-600">
                    Assessment is the standardized evaluation of psychological attributes. It distinguishes scientific inquiry from lay opinion.
                </p>
            </div>

            <!-- Comparison Block -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12">
                <div class="bg-blue-50 p-6 rounded-xl border border-blue-100">
                    <h3 class="text-lg font-bold text-blue-900 mb-2">Formal Assessment</h3>
                    <ul class="list-disc list-inside text-blue-800 space-y-1 text-sm">
                        <li>Objective & Standardized</li>
                        <li>Organized procedures</li>
                        <li>Minimal observer bias</li>
                    </ul>
                </div>
                <div class="bg-amber-50 p-6 rounded-xl border border-amber-100">
                    <h3 class="text-lg font-bold text-amber-900 mb-2">Informal Assessment</h3>
                    <ul class="list-disc list-inside text-amber-800 space-y-1 text-sm">
                        <li>Subjective</li>
                        <li>Varies from case to case</li>
                        <li>Open to interpretation</li>
                    </ul>
                </div>
            </div>

            <!-- Methods Grid -->
            <h3 class="text-xl font-bold text-gray-800 mb-4 border-l-4 border-amber-500 pl-3">Key Assessment Methods</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="methods-grid">
                <!-- Populated by JS -->
            </div>

            <!-- Test Types Section -->
            <div class="mt-12 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                <div class="p-6 bg-gray-50 border-b border-gray-200">
                    <h3 class="text-xl font-bold text-gray-800">Types of Intelligence Tests</h3>
                </div>
                <div class="p-6 grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div>
                        <h4 class="font-bold text-gray-900 mb-2">Administration</h4>
                        <div class="space-y-3">
                            <div class="p-3 bg-gray-50 rounded border border-gray-100">
                                <span class="block font-semibold text-sm">Individual Tests</span>
                                <span class="text-xs text-gray-500">One-on-one, requires rapport.</span>
                            </div>
                            <div class="p-3 bg-gray-50 rounded border border-gray-100">
                                <span class="block font-semibold text-sm">Group Tests</span>
                                <span class="text-xs text-gray-500">Mass administration, usually MCQs.</span>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-bold text-gray-900 mb-2">Content Format</h4>
                        <div class="space-y-3">
                            <div class="p-3 bg-gray-50 rounded border border-gray-100">
                                <span class="block font-semibold text-sm">Verbal</span>
                                <span class="text-xs text-gray-500">Requires literacy.</span>
                            </div>
                            <div class="p-3 bg-gray-50 rounded border border-gray-100">
                                <span class="block font-semibold text-sm">Non-Verbal</span>
                                <span class="text-xs text-gray-500">Pictures/Matrices (e.g., Raven's).</span>
                            </div>
                            <div class="p-3 bg-gray-50 rounded border border-gray-100">
                                <span class="block font-semibold text-sm">Performance</span>
                                <span class="text-xs text-gray-500">Manipulating objects.</span>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-bold text-gray-900 mb-2">Cultural Nature</h4>
                        <div class="space-y-3">
                            <div class="p-3 bg-red-50 rounded border border-red-100">
                                <span class="block font-semibold text-sm text-red-800">Culture-Biased</span>
                                <span class="text-xs text-red-600">Favors urban/middle-class norms.</span>
                            </div>
                            <div class="p-3 bg-green-50 rounded border border-green-100">
                                <span class="block font-semibold text-sm text-green-800">Culture-Fair</span>
                                <span class="text-xs text-green-600">Common experiences / Non-verbal.</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- SECTION: CONTEXT (CULTURE & EI) -->
        <section id="context" class="py-8 scroll-mt-24">
            
            <!-- Culture Section -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16">
                <div>
                    <h2 class="text-2xl font-bold text-gray-900 mb-4">Culture & Intelligence</h2>
                    <p class="text-gray-600 mb-6">
                        Intelligence is context-dependent. The environment shapes what is considered "intelligent" behavior.
                    </p>
                    
                    <div class="space-y-4">
                        <div class="group relative overflow-hidden bg-white rounded-lg shadow-sm border-l-4 border-blue-500 p-6 transition-all hover:bg-blue-50">
                            <h3 class="text-xl font-bold text-gray-800">Western Perspective</h3>
                            <p class="text-sm font-semibold text-blue-600 mb-2">Technological Intelligence</p>
                            <p class="text-gray-600 text-sm">Emphasizes speed, analysis, abstraction, and personal achievement. Focus on cognitive competence.</p>
                        </div>

                        <div class="group relative overflow-hidden bg-white rounded-lg shadow-sm border-l-4 border-amber-500 p-6 transition-all hover:bg-amber-50">
                            <h3 class="text-xl font-bold text-gray-800">Indian Tradition</h3>
                            <p class="text-sm font-semibold text-amber-600 mb-2">Integral Intelligence (Buddhi)</p>
                            <p class="text-gray-600 text-sm">Holistic. Includes cognitive competence AND affective/motivational components (conscience, will, desire). Values social connectivity and self-reflection.</p>
                        </div>
                    </div>
                </div>

                <!-- Emotional Intelligence -->
                <div class="bg-gray-900 rounded-2xl p-8 text-white relative overflow-hidden">
                    <div class="absolute top-0 right-0 p-4 opacity-10">
                        <span class="text-9xl font-bold">EQ</span>
                    </div>
                    <h2 class="text-2xl font-bold mb-4 relative z-10">Emotional Intelligence (EI)</h2>
                    <p class="text-gray-300 mb-6 relative z-10">
                        The ability to monitor, discriminate, and use emotional information to guide thinking and actions.
                    </p>
                    
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 relative z-10">
                        <div class="bg-gray-800 p-4 rounded-lg">
                            <h4 class="font-bold text-amber-400 mb-1">Sensitivity</h4>
                            <p class="text-xs text-gray-400">To one's own feelings and the feelings of others.</p>
                        </div>
                        <div class="bg-gray-800 p-4 rounded-lg">
                            <h4 class="font-bold text-blue-400 mb-1">Regulation</h4>
                            <p class="text-xs text-gray-400">Managing emotions to achieve internal and social harmony.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Special Abilities -->
            <div class="bg-gradient-to-r from-gray-100 to-white rounded-2xl p-8 border border-gray-200">
                <h2 class="text-2xl font-bold text-gray-900 mb-6 text-center">Beyond General Intelligence</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Aptitude -->
                    <div class="text-center p-4">
                        <div class="inline-block bg-white p-3 rounded-full shadow-md mb-4 text-2xl">ðŸ”§</div>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">Aptitude</h3>
                        <p class="text-gray-600 text-sm mb-4">Underlying potential for specific skills (e.g., mechanical, musical).</p>
                        <div class="bg-gray-200 rounded p-3 text-xs text-gray-700 italic">
                            "Like a specialized Graphics Card in a computer."
                        </div>
                    </div>

                    <!-- Creativity -->
                    <div class="text-center p-4">
                        <div class="inline-block bg-white p-3 rounded-full shadow-md mb-4 text-2xl">ðŸ’¡</div>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">Creativity</h3>
                        <p class="text-gray-600 text-sm mb-4">Producing new, unique, and appropriate ideas.</p>
                        <div class="bg-gray-200 rounded p-3 text-xs text-gray-700">
                            Relies on <strong>Divergent Thinking</strong> (multiple directions) vs. Convergent Thinking (one correct answer).
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 py-8 mt-8">
        <div class="max-w-7xl mx-auto px-4 text-center text-sm text-gray-500">
            <p>Interactive Study Aid based on "Individual Differences and Situationism"</p>
        </div>
    </footer>

    <!-- Placeholders required by prompt -->
    <!-- Chosen Palette: Warm Neutrals (Gray/Amber) - #FDFBF7 Background, #D97706 Accents, #4B5563 Text -->
    <!-- Application Structure Plan: Transformed into a Single Page Scrolling website. Users can scroll through the flow naturally or use the sticky header to jump to anchors. The active section is highlighted in the nav. The "Domains" graph was changed from Radar to Horizontal Bar for better readability and comparison. -->
    <!-- Visualization & Content Choices: 1. Horizontal Bar Chart: Replaced Radar chart. Goal: Clearer comparison of multi-dimensional attribute levels. 2. Line/Area Chart: Retained for IQ distribution as it perfectly represents the Bell Curve. 3. Interactive List for Theories: Kept to manage text density. 4. Scroll Spy: Added for navigation context. NO SVG used. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <script>
        // --- DATA STORAGE ---

        // Domains Data
        const domainsData = [
            { id: 'intelligence', title: 'Intelligence', desc: 'Global capacity to understand, think rationally, and use resources.', icon: 'ðŸ§ ' },
            { id: 'aptitude', title: 'Aptitude', desc: 'Potential for acquiring specific skills with training.', icon: 'ðŸ”§' },
            { id: 'interest', title: 'Interest', desc: 'Preference for engaging in specific activities.', icon: 'â¤ï¸' },
            { id: 'personality', title: 'Personality', desc: 'Enduring characteristics that make a person distinct.', icon: 'ðŸ‘¤' },
            { id: 'values', title: 'Values', desc: 'Enduring beliefs about ideal modes of behavior.', icon: 'âš–ï¸' }
        ];

        // Theories Data
        const theoriesData = {
            'uni': {
                name: 'Uni-factor Theory',
                proponent: 'Alfred Binet',
                type: 'Psychometric',
                desc: 'Intelligence is a single set of abilities used to solve any problem in the environment.',
                details: ['Historical foundation', 'Simplistic view', 'One general pool of ability']
            },
            'two': {
                name: 'Two-factor Theory',
                proponent: 'Charles Spearman',
                type: 'Psychometric',
                desc: 'Intelligence consists of a general factor (g-factor) and specific factors (s-factors).',
                details: ['g-factor: Common to all performances', 's-factors: Specific domains (e.g., music, math)', 'Performance = g + s']
            },
            'primary': {
                name: 'Primary Mental Abilities',
                proponent: 'Louis Thurstone',
                type: 'Psychometric',
                desc: 'Identifies seven independent abilities rather than a single g-factor.',
                details: ['Verbal Comprehension', 'Numerical Ability', 'Spatial Relations', 'Perceptual Speed', 'Word Fluency', 'Memory', 'Inductive Reasoning']
            },
            'hierarchical': {
                name: 'Hierarchical Model',
                proponent: 'Arthur Jensen',
                type: 'Psychometric',
                desc: 'Intelligence operates at two levels: Associative Learning and Cognitive Competence.',
                details: ['Level I: Rote memory / output similar to input', 'Level II: Higher-order skills / transforming input']
            },
            'structure': {
                name: 'Structure-of-Intellect',
                proponent: 'J.P. Guilford',
                type: 'Psychometric',
                desc: 'A 3D cube model classifying intellectual traits into 180 cells.',
                details: ['Dimensions: Operations, Contents, Products', 'Operations: What the person does', 'Contents: Nature of info', 'Products: Form of result']
            },
            'multiple': {
                name: 'Theory of Multiple Intelligences',
                proponent: 'Howard Gardner',
                type: 'Information-Processing',
                desc: 'Proposes eight independent types of intelligence.',
                details: ['Linguistic', 'Logical-Mathematical', 'Spatial', 'Musical', 'Bodily-Kinaesthetic', 'Interpersonal', 'Intrapersonal', 'Naturalistic']
            },
            'triarchic': {
                name: 'Triarchic Theory',
                proponent: 'Robert Sternberg',
                type: 'Information-Processing',
                desc: 'Intelligence is the ability to adapt to, shape, and select environments.',
                details: ['Componential (Analytical): Problem solving', 'Experiential (Creative): Novelty', 'Contextual (Practical): Street smarts']
            },
            'pass': {
                name: 'PASS Model',
                proponent: 'Das, Naglieri, & Kirby',
                type: 'Information-Processing',
                desc: 'Intellectual activity involves three neurological systems.',
                details: ['Arousal/Attention', 'Simultaneous & Successive Processing', 'Planning']
            }
        };

        // Assessment Methods Data
        const methodsData = [
            { title: 'Psychological Tests', desc: 'Objective, standardized measures of mental/behavioral characteristics.', use: 'Clinical diagnosis, selection, training.' },
            { title: 'Interviews', desc: 'One-to-one interaction seeking information.', use: 'Counseling, journalism, employment.' },
            { title: 'Case Studies', desc: 'In-depth investigation of history and environment.', use: 'Clinical psychology, deep understanding.' },
            { title: 'Observation', desc: 'Systematic recording of natural behavior.', use: 'Child psychology, social interaction.' },
            { title: 'Self-Reports', desc: 'Individuals provide factual info or opinions about themselves.', use: 'Surveys, personality questionnaires.' }
        ];

        // --- VISUALIZATION SETUP ---

        // 1. Domains Bar Chart (UPDATED from Radar)
        function initDomainsChart() {
            const ctx = document.getElementById('domainsChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: domainsData.map(d => d.title),
                    datasets: [{
                        label: 'Attribute Level (Hypothetical)',
                        data: [80, 65, 90, 75, 85], // Dummy data
                        backgroundColor: [
                            'rgba(217, 119, 6, 0.7)', // Intelligence
                            'rgba(59, 130, 246, 0.7)', // Aptitude
                            'rgba(16, 185, 129, 0.7)', // Interest
                            'rgba(239, 68, 68, 0.7)', // Personality
                            'rgba(139, 92, 246, 0.7)'  // Values
                        ],
                        borderColor: [
                            'rgb(217, 119, 6)',
                            'rgb(59, 130, 246)',
                            'rgb(16, 185, 129)',
                            'rgb(239, 68, 68)',
                            'rgb(139, 92, 246)'
                        ],
                        borderWidth: 1,
                        borderRadius: 4
                    }]
                },
                options: {
                    indexAxis: 'y', // Horizontal Bar Chart
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            beginAtZero: true,
                            max: 100,
                            grid: { color: 'rgba(0,0,0,0.05)' }
                        },
                        y: {
                            grid: { display: false },
                            ticks: {
                                font: { family: 'Inter', weight: '500' },
                                color: '#4B5563'
                            }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const domain = domainsData[context.dataIndex];
                                    return ` ${domain.title}: ${domain.desc}`;
                                }
                            }
                        }
                    }
                }
            });
        }

        // 2. IQ Distribution Chart (Bell Curve)
        function initIQChart() {
            const ctx = document.getElementById('iqChart').getContext('2d');
            
            // Generating Bell Curve Data
            const labels = [55, 70, 85, 100, 115, 130, 145];
            const dataPoints = [0.1, 2.1, 13.6, 34.1, 13.6, 2.1, 0.1]; // Approximate frequencies

            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Population %',
                        data: dataPoints,
                        borderColor: '#6366F1', // Indigo
                        backgroundColor: 'rgba(99, 102, 241, 0.2)',
                        fill: true,
                        tension: 0.4,
                        pointRadius: 4,
                        pointBackgroundColor: '#4F46E5'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        tooltip: {
                            callbacks: {
                                title: (items) => `IQ Score: ${items[0].label}`,
                                label: (item) => {
                                    const val = parseInt(item.label);
                                    let cat = "Average";
                                    if(val < 70) cat = "Intellectual Deficiency";
                                    if(val > 115) cat = "Above Average";
                                    if(val >= 130) cat = "Gifted";
                                    return `${cat} (${item.raw}%)`;
                                }
                            }
                        },
                        legend: { display: false }
                    },
                    scales: {
                        y: { 
                            display: false,
                            grid: { display: false }
                        },
                        x: {
                            grid: { display: false },
                            title: { display: true, text: 'IQ Score' }
                        }
                    }
                }
            });
        }

        // --- UI LOGIC ---

        function populateDomainList() {
            const list = document.getElementById('domain-list');
            list.innerHTML = domainsData.map(d => `
                <div class="flex items-start p-3 hover:bg-white hover:shadow-sm rounded-lg transition-all cursor-default border border-transparent hover:border-gray-100">
                    <div class="text-2xl mr-4">${d.icon}</div>
                    <div>
                        <h4 class="font-bold text-gray-800">${d.title}</h4>
                        <p class="text-sm text-gray-600">${d.desc}</p>
                    </div>
                </div>
            `).join('');
        }

        function populateTheoryList() {
            const list = document.getElementById('theory-list');
            // Group by type for better UI
            const psychometric = Object.keys(theoriesData).filter(k => theoriesData[k].type === 'Psychometric');
            const infoProc = Object.keys(theoriesData).filter(k => theoriesData[k].type === 'Information-Processing');

            const createItem = (key) => `
                <button onclick="showTheory('${key}')" class="w-full text-left p-3 hover:bg-gray-50 border-l-4 border-transparent hover:border-amber-500 focus:outline-none focus:bg-amber-50 focus:border-amber-500 transition-all">
                    <span class="block font-medium text-gray-700">${theoriesData[key].name}</span>
                    <span class="block text-xs text-gray-500">${theoriesData[key].proponent}</span>
                </button>
            `;

            let html = '<div class="px-3 py-2 text-xs font-bold text-gray-400 uppercase bg-gray-50">Psychometric Approach</div>';
            html += psychometric.map(createItem).join('');
            html += '<div class="px-3 py-2 text-xs font-bold text-gray-400 uppercase bg-gray-50 mt-2">Information-Processing</div>';
            html += infoProc.map(createItem).join('');
            
            list.innerHTML = html;
        }

        function showTheory(key) {
            const data = theoriesData[key];
            const detailContainer = document.getElementById('theory-detail');
            
            detailContainer.innerHTML = `
                <div class="animate-fade-in">
                    <div class="flex justify-between items-start mb-4">
                        <h3 class="text-2xl font-bold text-gray-900">${data.name}</h3>
                        <span class="px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-bold uppercase">${data.type}</span>
                    </div>
                    <p class="text-sm text-gray-500 font-semibold mb-6">Proponent: ${data.proponent}</p>
                    
                    <div class="bg-amber-50 border-l-4 border-amber-500 p-4 mb-6">
                        <p class="text-gray-800 italic">"${data.desc}"</p>
                    </div>

                    <h4 class="font-bold text-gray-800 mb-2">Key Features:</h4>
                    <ul class="space-y-2">
                        ${data.details.map(d => `<li class="flex items-center text-gray-600 text-sm"><span class="text-amber-500 mr-2">âžœ</span>${d}</li>`).join('')}
                    </ul>
                </div>
            `;
        }

        function populateMethods() {
            const grid = document.getElementById('methods-grid');
            grid.innerHTML = methodsData.map(m => `
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200 card-hover group">
                    <h4 class="font-bold text-lg text-gray-900 mb-2 group-hover:text-amber-600 transition-colors">${m.title}</h4>
                    <p class="text-sm text-gray-600 mb-4 h-10">${m.desc}</p>
                    <div class="pt-4 border-t border-gray-100">
                        <span class="text-xs font-bold text-gray-400 uppercase">Used For</span>
                        <p class="text-xs text-gray-500">${m.use}</p>
                    </div>
                </div>
            `).join('');
        }

        // --- SCROLL SPY & NAV HIGHLIGHTING ---
        function initScrollSpy() {
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.nav-link');

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === `#${id}`) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, {
                rootMargin: '-50% 0px -50% 0px' // Trigger when section is in middle of viewport
            });

            sections.forEach(section => {
                observer.observe(section);
            });
        }

        // --- INITIALIZATION ---
        window.addEventListener('DOMContentLoaded', () => {
            populateDomainList();
            populateTheoryList();
            populateMethods();
            
            initDomainsChart();
            initIQChart();
            initScrollSpy();

            // Load first theory by default
            showTheory('uni');
        });

    </script>
</body>
</html>
